{"version":3,"file":"widget.js","sources":["../src/components/chat-button.js","../src/components/chat-message.js","../src/components/suggestions.js","../src/components/typing-indicator.js","../src/components/avatar.js","../src/chat-widget.js","../src/index.js"],"sourcesContent":["/**\r\n * Ù…ÙƒÙˆÙ† Ø²Ø± ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©\r\n */\r\nclass ChatButton extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n\r\n    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ù†Ù…Ø§Ø·\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      :host {\r\n        display: block;\r\n      }\r\n\r\n      .chat-bubble {\r\n        position: fixed;\r\n        bottom: 24px;\r\n        right: 24px;\r\n        width: 56px;\r\n        height: 56px;\r\n        background-color: var(--primary-color, #007BFF);\r\n        border-radius: 50%;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        cursor: pointer;\r\n        transition: transform 0.3s, background-color 0.3s;\r\n        z-index: 9998;\r\n      }\r\n\r\n      :host([position=\"bottom-left\"]) .chat-bubble {\r\n        left: 24px;\r\n        right: auto;\r\n      }\r\n\r\n      .chat-bubble:hover {\r\n        transform: scale(1.05);\r\n        background-color: var(--primary-hover, #0069d9);\r\n      }\r\n\r\n      .chat-bubble svg {\r\n        width: 24px;\r\n        height: 24px;\r\n        fill: none;\r\n        stroke: white;\r\n        stroke-width: 2;\r\n        stroke-linecap: round;\r\n        stroke-linejoin: round;\r\n      }\r\n\r\n      @keyframes pulse {\r\n        0% {\r\n          box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7);\r\n        }\r\n        70% {\r\n          box-shadow: 0 0 0 10px rgba(0, 123, 255, 0);\r\n        }\r\n        100% {\r\n          box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);\r\n        }\r\n      }\r\n\r\n      .chat-bubble.pulse {\r\n        animation: pulse 2s infinite;\r\n      }\r\n    `;\r\n\r\n    // Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    const template = document.createElement('template');\r\n    template.innerHTML = `\r\n      <div class=\"chat-bubble pulse\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n          <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\r\n        </svg>\r\n      </div>\r\n    `;\r\n\r\n    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ù‚Ø§Ù„Ø¨ Ù„Ù„Ø¸Ù„\r\n    this.shadowRoot.appendChild(style);\r\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n\r\n    // ØªØ®Ø²ÙŠÙ† Ù…Ø±Ø¬Ø¹ Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø²Ø±\r\n    this.bubbleElement = this.shadowRoot.querySelector('.chat-bubble');\r\n  }\r\n\r\n connectedCallback() {\r\n     this.bubbleElement.addEventListener('click', () => {\r\n   // ÙÙ‚Ø· Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø¨Ø¶Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·\r\n\r\n   // Ù„Ø§ Ø­Ø§Ø¬Ø© Ø§Ù„Ø¢Ù† Ù„Ø¥Ø¹Ø§Ø¯Ø© dispatch Ù„Ø­Ø¯Ø« \"click\" Ù„Ø£Ù†Ù‘Ù‡ ÙŠØ®Ø±Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ù€ host\r\n });\r\n\r\n  }  // â† Ù‚ÙˆØ³ ÙŠØºÙ„Ù‚ connectedCallback Ù‡Ù†Ø§\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (name === 'position' && oldValue !== newValue) {\r\n      if (newValue === 'bottom-left') {\r\n        this.bubbleElement.style.left = '24px';\r\n        this.bubbleElement.style.right = 'auto';\r\n      } else {\r\n        this.bubbleElement.style.right = '24px';\r\n        this.bubbleElement.style.left = 'auto';\r\n      }\r\n    }\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['position'];\r\n  }\r\n}\r\n\r\ncustomElements.define('chat-button', ChatButton);","// src/components/chat-message.js\r\n\r\n/**\r\n * Ù…ÙƒÙˆÙ† Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©\r\n */\r\nclass ChatMessage extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  connectedCallback() {\r\n    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ù…Ø§Øª Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    const sender = this.getAttribute('sender') || 'bot';\r\n    const avatar = this.getAttribute('avatar') || '';\r\n    const messageId = this.getAttribute('message-id') || '';\r\n    const content = this.textContent || '';\r\n\r\n    // Ø¥Ø¹Ø¯Ø§Ø¯ CSS\r\n    const style = document.createElement('style');\r\n    // --- Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ---\r\n    style.textContent = `\r\n      :host {\r\n        display: block;\r\n        width: 100%;\r\n      }\r\n\r\n      .message {\r\n        display: flex;\r\n        flex-direction: column;\r\n        max-width: 85%;\r\n        margin-bottom: 12px; /* Ø¥Ø¶Ø§ÙØ© Ù‡Ø§Ù…Ø´ Ø³ÙÙ„ÙŠ Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */\r\n        animation: fadeIn 0.3s ease-in-out;\r\n      }\r\n\r\n      .message-user {\r\n        align-self: flex-end;\r\n        align-items: flex-end;\r\n      }\r\n\r\n      .message-bot {\r\n        align-self: flex-start;\r\n        align-items: flex-start;\r\n      }\r\n\r\n      .avatar {\r\n        width: 28px;\r\n        height: 28px;\r\n        border-radius: 50%;\r\n        margin-right: 8px;\r\n        background-color: var(--primary-color, #007BFF);\r\n        color: white;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        flex-shrink: 0; /* Ù…Ù†Ø¹ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ© Ù…Ù† Ø§Ù„ØªÙ‚Ù„Øµ */\r\n      }\r\n\r\n      .message-header {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 4px;\r\n        /* ÙÙ‚Ø· Ø¹Ø±Ø¶ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø±Ø³Ù„ Ù‡Ùˆ Ø§Ù„Ø¨ÙˆØª ÙˆÙ„Ø¯ÙŠÙ‡ ØµÙˆØ±Ø© Ø±Ù…Ø²ÙŠØ© */\r\n        ${sender === 'bot' ? '' : 'display: none;'}\r\n      }\r\n\r\n      .message-content {\r\n        padding: 12px 16px;\r\n        border-radius: 18px;\r\n        font-size: 14px;\r\n        line-height: 1.4;\r\n        position: relative;\r\n        word-wrap: break-word; /* Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙØ§Ù Ø§Ù„Ù†Øµ Ø§Ù„Ø·ÙˆÙŠÙ„ */\r\n      }\r\n\r\n      .message-user .message-content {\r\n        background-color: var(--message-bg-user, #007BFF);\r\n        color: var(--message-color-user, #fff);\r\n        border-bottom-right-radius: 4px;\r\n      }\r\n\r\n      .message-bot .message-content {\r\n        background-color: var(--message-bg-bot, #F1F1F1);\r\n        color: var(--message-color-bot, #333);\r\n        border-bottom-left-radius: 4px;\r\n      }\r\n\r\n      /* ÙˆØ¶Ø¹ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ© Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ù€ bot */\r\n       .message-bot {\r\n           flex-direction: row; /* ØªØºÙŠÙŠØ± Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø¥Ù„Ù‰ ØµÙ */\r\n           align-items: flex-start; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */\r\n       }\r\n       .message-bot .message-header {\r\n           margin-bottom: 0; /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‡Ø§Ù…Ø´ Ø§Ù„Ø³ÙÙ„ÙŠ Ù…Ù† Ø§Ù„Ù‡ÙŠØ¯Ø± */\r\n           margin-right: 8px; /* Ø¥Ø¶Ø§ÙØ© Ù‡Ø§Ù…Ø´ ÙŠÙ…ÙŠÙ† Ù„Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ© */\r\n       }\r\n        /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ© Ù…Ù† Ø§Ù„Ù‡ÙŠØ¯Ø± Ù„Ø£Ù†Ù†Ø§ Ø³Ù†Ø¶Ø¹Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ .message-bot */\r\n       .message-bot .message-header .avatar {\r\n           display: none;\r\n       }\r\n\r\n       .message-bot > .message-content {\r\n           /* Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù‡Ù†Ø§ Ø­Ø§Ù„ÙŠÙ‹Ø§ */\r\n       }\r\n\r\n       .message-bot > .message-time {\r\n         margin-left: 36px; /* ØªØ­Ø±ÙŠÙƒ Ø§Ù„ÙˆÙ‚Øª Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (28px avatar + 8px margin) */\r\n         text-align: left;\r\n       }\r\n\r\n       .message-user > .message-time {\r\n         text-align: right;\r\n       }\r\n\r\n\r\n      .message-time {\r\n        font-size: 11px;\r\n        color: var(--text-secondary, #666);\r\n        margin-top: 4px;\r\n      }\r\n\r\n      @keyframes fadeIn {\r\n        from { opacity: 0; transform: translateY(10px); }\r\n        to { opacity: 1; transform: translateY(0); }\r\n      }\r\n\r\n      /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */\r\n      .message-content a {\r\n        /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆÙ† Ù…Ù…ÙŠØ² Ù„Ù„Ø±ÙˆØ§Ø¨Ø· Ø¯Ø§Ø®Ù„ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¨ÙˆØª */\r\n        color: ${sender === 'bot' ? 'var(--primary-color, #007BFF)' : 'inherit'};\r\n        text-decoration: underline;\r\n      }\r\n\r\n      .message-content a:hover {\r\n        opacity: 0.8;\r\n      }\r\n\r\n      /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */\r\n      .message-content pre {\r\n        background-color: rgba(0, 0, 0, 0.05);\r\n        padding: 10px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø´Ùˆ */\r\n        border-radius: 4px;\r\n        overflow-x: auto;\r\n        margin: 8px 0;\r\n        border: 1px solid rgba(0,0,0,0.1); /* Ø¥Ø¶Ø§ÙØ© Ø­Ø¯ÙˆØ¯ Ø¨Ø³ÙŠØ·Ø© */\r\n      }\r\n\r\n      .message-content code:not(pre > code) { /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¶Ù…Ù† ÙÙ‚Ø· */\r\n         background-color: rgba(0,0,0,0.05);\r\n         padding: 2px 4px;\r\n         border-radius: 3px;\r\n         font-family: monospace;\r\n         font-size: 13px;\r\n       }\r\n      .message-content pre code { /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ø¯Ø§Ø®Ù„ <pre> */\r\n         background-color: transparent; /* Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© */\r\n         padding: 0;\r\n         border-radius: 0;\r\n         font-family: monospace;\r\n         font-size: 13px;\r\n         display: block; /* ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù‡ ÙƒØªÙ„Ø© */\r\n         white-space: pre; /* Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª ÙˆØ§Ù„Ø£Ø³Ø·Ø± */\r\n      }\r\n\r\n\r\n      /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */\r\n      .message-content ul, .message-content ol {\r\n        padding-left: 24px;\r\n        margin: 8px 0;\r\n      }\r\n\r\n      /* ØªÙ†Ø³ÙŠÙ‚ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª */\r\n      .action-button {\r\n        background-color: var(--primary-color, #007BFF);\r\n        color: white;\r\n        border: none;\r\n        padding: 8px 12px;\r\n        border-radius: 15px; /* Ø¬Ø¹Ù„Ù‡Ø§ Ø£ÙƒØ«Ø± Ø¯Ø§Ø¦Ø±ÙŠØ© */\r\n        cursor: pointer;\r\n        font-size: 13px;\r\n        margin: 5px 5px 5px 0; /* Ø¥Ø¶Ø§ÙØ© Ù‡ÙˆØ§Ù…Ø´ */\r\n        transition: background-color 0.2s ease;\r\n        display: inline-block; /* Ø¬Ø¹Ù„Ù‡Ø§ ØªØ¸Ù‡Ø± Ø¨Ø¬Ø§Ù†Ø¨ Ø¨Ø¹Ø¶Ù‡Ø§ Ø§Ù„Ø¨Ø¹Ø¶ */\r\n      }\r\n\r\n      .action-button:hover {\r\n        background-color: var(--primary-color-dark, #0056b3); /* Ù„ÙˆÙ† Ø£ØºÙ…Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± */\r\n      }\r\n    `;\r\n    // --- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ---\r\n\r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø§Ø±ÙƒØ¯Ø§ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ)\r\n    const processedContent = this._processMessageContent(content);\r\n\r\n    // Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    const messageElement = document.createElement('div');\r\n    // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ¦Ø§Øª\r\n    messageElement.className = `message message-${sender}`;\r\n    messageElement.setAttribute('data-message-id', messageId);\r\n\r\n    // ØªØ­Ø¯ÙŠØ¯ HTML Ù„Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©\r\n    let avatarHTML = '';\r\n    if (sender === 'bot') {\r\n      if (avatar) {\r\n        avatarHTML = `<img class=\"avatar\" src=\"${avatar}\" alt=\"Bot Avatar\">`;\r\n      } else {\r\n        // ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ø±Ù Ø£Ùˆ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n        avatarHTML = `<div class=\"avatar\">ğŸ¤–</div>`; // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ Ø±Ù…Ø² ØªØ¹Ø¨ÙŠØ±ÙŠ Ø£Ùˆ SVG\r\n      }\r\n    }\r\n\r\n    const now = new Date();\r\n    const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;\r\n\r\n    // Ø¨Ù†Ø§Ø¡ HTML Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ù„Ù„Ù…ÙƒÙˆÙ†\r\n    // Ù…Ù„Ø§Ø­Ø¸Ø©: ØªÙ… Ù†Ù‚Ù„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ© Ø®Ø§Ø±Ø¬ Ø§Ù„Ù‡ÙŠØ¯Ø± Ù„ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ù€ bot\r\n    messageElement.innerHTML = `\r\n      ${sender === 'bot' ? avatarHTML : ''}\r\n      <div class=\"message-body\"> <div class=\"message-content\">${processedContent}</div>\r\n          <div class=\"message-time\">${timeStr}</div>\r\n      </div>\r\n    `;\r\n\r\n     // ØªØ¹Ø¯ÙŠÙ„ Ø·ÙÙŠÙ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù€ HTML Ù„ØªØ±ØªÙŠØ¨ Ø£ÙØ¶Ù„ (Ø®Ø§ØµØ© Ù„Ù„Ù€ bot)\r\n     if (sender === 'bot') {\r\n         messageElement.innerHTML = `\r\n             ${avatarHTML}\r\n             <div style=\"display: flex; flex-direction: column; align-items: flex-start;\">\r\n                 <div class=\"message-content\">${processedContent}</div>\r\n                 <div class=\"message-time\">${timeStr}</div>\r\n             </div>\r\n         `;\r\n     } else { // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\n         messageElement.innerHTML = `\r\n             <div class=\"message-content\">${processedContent}</div>\r\n             <div class=\"message-time\">${timeStr}</div>\r\n         `;\r\n     }\r\n\r\n\r\n    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ø¸Ù„\r\n    this.shadowRoot.appendChild(style);\r\n    this.shadowRoot.appendChild(messageElement);\r\n\r\n    // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¨Ø¹Ø¯ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰\r\n    this._activateLinks();\r\n  }\r\n\r\n  /**\r\n   * Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ§Ù„Ù…Ø§Ø±ÙƒØ¯Ø§ÙˆÙ† Ø§Ù„Ø¨Ø³ÙŠØ·\r\n   */\r\n  _processMessageContent(content) {\r\n    // Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø­Ù‚Ù† HTML Ø¨Ø³ÙŠØ· (Ù‡Ø°Ù‡ Ù„ÙŠØ³Øª Ø­Ù…Ø§ÙŠØ© ÙƒØ§Ù…Ù„Ø©!)\r\n    let processed = content.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n\r\n    // ØªØ­ÙˆÙŠÙ„ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø§Ø±ÙƒØ¯Ø§ÙˆÙ† Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø£Ø³Ø·Ø± ```code```\r\n    processed = processed.replace(\r\n        /```([\\s\\S]*?)```/g, // Ø§Ø³ØªØ®Ø¯Ø§Ù… [\\s\\S] Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø£ÙŠ Ø­Ø±Ù Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ø£Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\r\n        (match, code) => `<pre><code>${code.trim()}</code></pre>` // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©\r\n    );\r\n\r\n    // ØªØ­ÙˆÙŠÙ„ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø§Ø±ÙƒØ¯Ø§ÙˆÙ† Ø§Ù„Ù…Ø¶Ù…Ù†Ø© `code` (Ø¨Ø¹Ø¯ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙƒØªÙ„ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¯Ø§Ø®Ù„)\r\n     processed = processed.replace(\r\n         /`([^`]+)`/g,\r\n         '<code>$1</code>'\r\n     );\r\n\r\n    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© Ø¥Ù„Ù‰ Ø±ÙˆØ§Ø¨Ø· Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù†Ù‚Ø± (ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ… Ø¨Ø¹Ø¯ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙƒÙˆØ¯ Ù„ØªØ¬Ù†Ø¨ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)\r\n    // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù‡Ø°Ø§ Ù„Ø§ ÙŠØ·Ø¨Ù‚ Ø¯Ø§Ø®Ù„ <pre> Ø£Ùˆ <code>\r\n     processed = processed.replace(\r\n         /(?<!<code[^>]*?>)(?<!<pre[^>]*?>)(https?:\\/\\/[^\\s<]+)/g, // Ø§Ø³ØªØ®Ø¯Ø§Ù… Negative Lookbehind Ù„Ù„ØªØ£ÙƒØ¯ Ø£Ù†Ù‡ Ù„ÙŠØ³ Ø¯Ø§Ø®Ù„ code Ø£Ùˆ pre\r\n         '<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\">$1</a>'\r\n     );\r\n\r\n\r\n    // ØªØ­ÙˆÙŠÙ„ Ø²Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ (Ù…Ø«Ø§Ù„: [Ø²Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡](action:do_something))\r\n    processed = processed.replace(\r\n      /\\[([^\\]]+)\\]\\(action:([^)]+)\\)/g,\r\n      '<button class=\"action-button\" data-action=\"$2\">$1</button>'\r\n    );\r\n\r\n     // ØªØ­ÙˆÙŠÙ„ Ù†Ù‡Ø§ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø·Ø± Ø¥Ù„Ù‰ <br> (Ø§Ø®ØªÙŠØ§Ø±ÙŠØŒ Ø­Ø³Ø¨ Ø§Ù„Ø±ØºØ¨Ø© ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ)\r\n     // Ù‚Ø¯ ØªØ±ØºØ¨ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ù‡ ÙÙ‚Ø· Ø®Ø§Ø±Ø¬ <pre>\r\n     // processed = processed.replace(/\\n/g, '<br>');\r\n\r\n\r\n    return processed;\r\n  }\r\n\r\n  /**\r\n   * ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©\r\n   */\r\n  _activateLinks() {\r\n    const actionButtons = this.shadowRoot.querySelectorAll('.action-button');\r\n    actionButtons.forEach(button => {\r\n      // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªÙ…Ø¹ Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø±Ø© (Ø§Ø­ØªÙŠØ§Ø·ÙŠ)\r\n      if (!button.hasAttribute('data-listener-added')) {\r\n          button.addEventListener('click', () => {\r\n            const action = button.getAttribute('data-action');\r\n            this.dispatchEvent(new CustomEvent('action-clicked', {\r\n              detail: { action },\r\n              bubbles: true, // Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ø­Ø¯Ø« Ø¨Ø§Ù„ØµØ¹ÙˆØ¯ ÙÙŠ Ø´Ø¬Ø±Ø© DOM\r\n              composed: true // Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ø­Ø¯Ø« Ø¨Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Shadow DOM\r\n            }));\r\n          });\r\n          button.setAttribute('data-listener-added', 'true');\r\n      }\r\n    });\r\n\r\n    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© <a> ØªØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„ØªÙØ¹ÙŠÙ„Ù‡Ø§ Ù‡Ù†Ø§.\r\n  }\r\n}\r\n\r\n// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ù…Ø®ØµØµ\r\n// ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù…Ù† Ù‚Ø¨Ù„\r\nif (!customElements.get('chat-message')) {\r\n  customElements.define('chat-message', ChatMessage);\r\n}","// src/components/suggestions.js\r\n\r\n/**\r\n * Ù…ÙƒÙˆÙ† Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©\r\n */\r\nclass ChatSuggestions extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n    this._suggestions = [];\r\n  }\r\n\r\n  connectedCallback() {\r\n    this._render();\r\n  }\r\n\r\n  set suggestions(value) {\r\n    if (Array.isArray(value)) {\r\n      this._suggestions = value;\r\n      if (this.shadowRoot) {\r\n        this._render();\r\n      }\r\n    }\r\n  }\r\n\r\n  get suggestions() {\r\n    return this._suggestions;\r\n  }\r\n\r\n  _render() {\r\n    // Ø¥Ø¹Ø¯Ø§Ø¯ CSS\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      :host {\r\n        display: block;\r\n        margin: 16px 0;\r\n      }\r\n\r\n      .suggestions {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        gap: 8px;\r\n        margin-top: 16px;\r\n      }\r\n\r\n      .suggestion {\r\n        background-color: var(--message-bg-bot, #F1F1F1);\r\n        color: var(--text-color, #333);\r\n        border: 1px solid var(--border-color, #E6E6E6);\r\n        border-radius: 16px;\r\n        padding: 8px 16px;\r\n        font-size: 13px;\r\n        cursor: pointer;\r\n        transition: background-color 0.2s, transform 0.2s;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        max-width: 200px;\r\n      }\r\n\r\n      .suggestion:hover {\r\n        background-color: var(--primary-color, #007BFF);\r\n        color: white;\r\n        transform: translateY(-2px);\r\n      }\r\n\r\n      .title {\r\n        font-size: 14px;\r\n        color: var(--text-secondary, #666);\r\n        margin-bottom: 8px;\r\n      }\r\n\r\n      @keyframes fadeIn {\r\n        from { opacity: 0; transform: translateY(10px); }\r\n        to { opacity: 1; transform: translateY(0); }\r\n      }\r\n\r\n      .suggestion {\r\n        animation: fadeIn 0.3s ease-in-out;\r\n        animation-fill-mode: both;\r\n      }\r\n\r\n      .suggestion:nth-child(1) { animation-delay: 0.1s; }\r\n      .suggestion:nth-child(2) { animation-delay: 0.2s; }\r\n      .suggestion:nth-child(3) { animation-delay: 0.3s; }\r\n      .suggestion:nth-child(4) { animation-delay: 0.4s; }\r\n    `;\r\n\r\n    // Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    const container = document.createElement('div');\r\n    container.innerHTML = `\r\n      <div class=\"title\">ÙŠÙ…ÙƒÙ†Ùƒ Ø£Ù† ØªØ³Ø£Ù„:</div>\r\n      <div class=\"suggestions\">\r\n        ${this._suggestions.map(suggestion => `\r\n          <button class=\"suggestion\">${suggestion}</button>\r\n        `).join('')}\r\n      </div>\r\n    `;\r\n\r\n    // Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¸Ù„ ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯\r\n    this.shadowRoot.innerHTML = '';\r\n    this.shadowRoot.appendChild(style);\r\n    this.shadowRoot.appendChild(container);\r\n\r\n    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª\r\n    const suggestionButtons = this.shadowRoot.querySelectorAll('.suggestion');\r\n    suggestionButtons.forEach(button => {\r\n      button.addEventListener('click', () => {\r\n        const suggestion = button.textContent;\r\n        // Ø¥Ø±Ø³Ø§Ù„ Ø­Ø¯Ø« Ù„Ù„Ø£Ø¹Ù„Ù‰ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­\r\n        this.dispatchEvent(new CustomEvent('suggestion-clicked', {\r\n          detail: { suggestion },\r\n          bubbles: true,\r\n          composed: true\r\n        }));\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\ncustomElements.define('chat-suggestions', ChatSuggestions);","// src/components/typing-indicator.js\r\n\r\n/**\r\n * Ù…ÙƒÙˆÙ† Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©\r\n */\r\nclass TypingIndicator extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  connectedCallback() {\r\n    const avatar = this.getAttribute('avatar') || '';\r\n\r\n    // Ø¥Ø¹Ø¯Ø§Ø¯ CSS\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      :host {\r\n        display: block;\r\n        width: 100%;\r\n      }\r\n\r\n      .typing-indicator {\r\n        display: flex;\r\n        align-items: flex-end;\r\n        margin-bottom: 10px;\r\n        animation: fadeIn 0.3s ease-in-out;\r\n      }\r\n\r\n      .avatar {\r\n        width: 28px;\r\n        height: 28px;\r\n        border-radius: 50%;\r\n        margin-right: 8px;\r\n        background-color: var(--primary-color, #007BFF);\r\n        color: white;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n      }\r\n\r\n      .typing-bubble {\r\n        background-color: var(--message-bg-bot, #F1F1F1);\r\n        border-radius: 18px;\r\n        padding: 12px 16px;\r\n        border-bottom-left-radius: 4px;\r\n        display: flex;\r\n        align-items: center;\r\n      }\r\n\r\n      .dot {\r\n        width: 8px;\r\n        height: 8px;\r\n        background-color: var(--text-secondary, #666);\r\n        border-radius: 50%;\r\n        margin: 0 2px;\r\n        opacity: 0.6;\r\n      }\r\n\r\n      .dot:nth-child(1) {\r\n        animation: bounce 1.2s infinite 0s;\r\n      }\r\n\r\n      .dot:nth-child(2) {\r\n        animation: bounce 1.2s infinite 0.2s;\r\n      }\r\n\r\n      .dot:nth-child(3) {\r\n        animation: bounce 1.2s infinite 0.4s;\r\n      }\r\n\r\n      @keyframes bounce {\r\n        0%, 60%, 100% {\r\n          transform: translateY(0);\r\n        }\r\n        30% {\r\n          transform: translateY(-4px);\r\n        }\r\n      }\r\n\r\n      @keyframes fadeIn {\r\n        from { opacity: 0; transform: translateY(10px); }\r\n        to { opacity: 1; transform: translateY(0); }\r\n      }\r\n    `;\r\n\r\n    // Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    const template = document.createElement('template');\r\n    let avatarHTML = '';\r\n\r\n    if (avatar) {\r\n      avatarHTML = `<img class=\"avatar\" src=\"${avatar}\" alt=\"Bot Avatar\">`;\r\n    } else {\r\n      avatarHTML = `<div class=\"avatar\">B</div>`;\r\n    }\r\n\r\n    template.innerHTML = `\r\n      <div class=\"typing-indicator\">\r\n        ${avatarHTML}\r\n        <div class=\"typing-bubble\">\r\n          <div class=\"dot\"></div>\r\n          <div class=\"dot\"></div>\r\n          <div class=\"dot\"></div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ù‚Ø§Ù„Ø¨ Ù„Ù„Ø¸Ù„\r\n    this.shadowRoot.appendChild(style);\r\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n  }\r\n}\r\n\r\n// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\ncustomElements.define('typing-indicator', TypingIndicator);","// src/components/avatar.js\r\n\r\n/**\r\n * Ù…ÙƒÙˆÙ† Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©\r\n */\r\nclass ChatAvatar extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  connectedCallback() {\r\n    const src = this.getAttribute('src') || '';\r\n    const fallback = this.getAttribute('fallback') || 'B';\r\n    const bgColor = this.getAttribute('bg-color') || '#007BFF';\r\n    const size = this.getAttribute('size') || '40px';\r\n\r\n    // Ø¥Ø¹Ø¯Ø§Ø¯ CSS\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      :host {\r\n        display: inline-block;\r\n      }\r\n\r\n      .avatar {\r\n        width: ${size};\r\n        height: ${size};\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-weight: 600;\r\n        color: white;\r\n        background-color: ${bgColor};\r\n        font-size: calc(${size} * 0.4);\r\n      }\r\n\r\n      .avatar img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n    `;\r\n\r\n    // Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    const template = document.createElement('template');\r\n\r\n    if (src) {\r\n      template.innerHTML = `\r\n        <div class=\"avatar\">\r\n          <img src=\"${src}\" alt=\"Avatar\" onerror=\"this.style.display='none'; this.parentNode.textContent='${fallback}'\" />\r\n        </div>\r\n      `;\r\n    } else {\r\n      template.innerHTML = `\r\n        <div class=\"avatar\">${fallback}</div>\r\n      `;\r\n    }\r\n\r\n    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ù‚Ø§Ù„Ø¨ Ù„Ù„Ø¸Ù„\r\n    this.shadowRoot.appendChild(style);\r\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['src', 'fallback', 'bg-color', 'size'];\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (oldValue !== newValue && this.shadowRoot) {\r\n      const avatar = this.shadowRoot.querySelector('.avatar');\r\n\r\n      if (!avatar) return;\r\n\r\n      if (name === 'src') {\r\n        let img = avatar.querySelector('img');\r\n        if (newValue) {\r\n          if (!img) {\r\n            img = document.createElement('img');\r\n            img.setAttribute('alt', 'Avatar');\r\n            avatar.textContent = '';\r\n            avatar.appendChild(img);\r\n          }\r\n          img.setAttribute('src', newValue);\r\n        } else if (img) {\r\n          avatar.textContent = this.getAttribute('fallback') || 'B';\r\n          img.remove();\r\n        }\r\n      } else if (name === 'fallback') {\r\n        const img = avatar.querySelector('img');\r\n        if (!img) {\r\n          avatar.textContent = newValue || 'B';\r\n        }\r\n      } else if (name === 'bg-color') {\r\n        avatar.style.backgroundColor = newValue;\r\n      } else if (name === 'size') {\r\n        avatar.style.width = newValue;\r\n        avatar.style.height = newValue;\r\n        avatar.style.fontSize = `calc(${newValue} * 0.4)`;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\ncustomElements.define('chat-avatar', ChatAvatar);","import './components/chat-button.js';\r\nimport './components/chat-message.js';\r\nimport './components/suggestions.js';\r\nimport './components/typing-indicator.js';\r\nimport './components/avatar.js';\r\n// Ø¥Ø²Ø§Ù„Ø© Ø§Ø³ØªÙŠØ±Ø§Ø¯ ChatService:\r\n// import { ChatService } from './services/chat-service.js';\r\n\r\n// Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø£Ù†Ù…Ø§Ø· (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ)\r\nconst styles = `\r\n :host {\r\n   --primary-color: #007BFF;\r\n   --primary-hover: #0069d9;\r\n   --bg-color: #fff;\r\n   --header-bg: #E6F0FA;\r\n   --text-color: #333;\r\n   --text-secondary: #666;\r\n   --message-bg-user: var(--primary-color);\r\n   --message-color-user: #fff;\r\n   --message-bg-bot: #F8F9FA;\r\n   --message-color-bot: #666;\r\n   --border-color: #E6E6E6;\r\n   --footer-bg: rgba(249, 250, 251, 0.8);\r\n   --bubble-size: 56px;\r\n   --shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n\r\n   font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n   position: fixed;\r\n   z-index: 9999;\r\n   box-sizing: border-box;\r\n }\r\n\r\n :host([theme=\"dark\"]) {\r\n   --primary-color: #375FFF;\r\n   --primary-hover: #2D4ECC;\r\n   --bg-color: #1E1E1E;\r\n   --header-bg: #2D2D2D;\r\n   --text-color: #fff;\r\n   --text-secondary: #B0B0B0;\r\n   --message-bg-user: var(--primary-color);\r\n   --message-color-user: #fff;\r\n   --message-bg-bot: #2D2D2D;\r\n   --message-color-bot: #E0E0E0;\r\n   --border-color: #3D3D3D;\r\n   --footer-bg: rgba(30, 30, 30, 0.85);\r\n }\r\n\r\n :host([position=\"bottom-right\"]) .chat-container {\r\n   bottom: 24px;\r\n   right: 24px;\r\n }\r\n\r\n :host([position=\"bottom-left\"]) .chat-container {\r\n   bottom: 24px;\r\n   left: 24px;\r\n }\r\n\r\n :host([direction=\"rtl\"]) {\r\n   direction: rtl;\r\n   text-align: right;\r\n }\r\n :host([direction=\"rtl\"]) .header-info {\r\n    margin-left: auto; /* Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† ÙÙŠ ÙˆØ¶Ø¹ RTL */\r\n    margin-right: 12px;\r\n }\r\n :host([direction=\"rtl\"]) .send-button svg {\r\n    transform: scaleX(-1); /* Ù„Ø¹ÙƒØ³ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */\r\n }\r\n :host([direction=\"rtl\"]) .footer-actions {\r\n    flex-direction: row-reverse; /* Ù„Ø¹ÙƒØ³ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ */\r\n }\r\n\r\n .chat-container {\r\n   z-index: 9999;\r\n   position: fixed;\r\n   display: flex;\r\n   flex-direction: column;\r\n   width: 350px;\r\n   height: calc(95vh - 32px);\r\n   max-height: 600px;\r\n   background-color: transparent; /* ØªÙ… ØªØºÙŠÙŠØ±Ù‡Ø§ Ù„ØªÙƒÙˆÙ† Ø´ÙØ§ÙØ© */\r\n   border-radius: 24px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§Ù†Ø­Ù†Ø§Ø¡ */\r\n   overflow: hidden;\r\n   box-shadow: var(--shadow);\r\n   transition: transform 0.3s ease, opacity 0.3s ease;\r\n   transform: translateY(20px);\r\n   opacity: 0;\r\n   pointer-events: none;\r\n }\r\n\r\n .chat-container.open {\r\n   transform: translateY(0);\r\n   opacity: 1;\r\n   pointer-events: all;\r\n }\r\n\r\n .chat-header {\r\n   display: flex;\r\n   align-items: center;\r\n   padding: 16px;\r\n   background-color: var(--header-bg);\r\n   border-top-left-radius: 16px; /* ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ø§Ù†Ø­Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */\r\n   border-top-right-radius: 16px; /* ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ø§Ù†Ø­Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */\r\n   border-bottom: 1px solid var(--border-color);\r\n }\r\n\r\n .header-info {\r\n   margin-left: 12px; /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© */\r\n   margin-right: 12px; /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© */\r\n   flex-grow: 1; /* Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù†Ù…Ùˆ ÙˆØ£Ø®Ø° Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…ØªØ§Ø­Ø© */\r\n }\r\n\r\n .header-title {\r\n   font-size: 16px;\r\n   font-weight: 600;\r\n   color: var(--text-color);\r\n   margin: 0;\r\n }\r\n\r\n .header-subtitle {\r\n   font-size: 12px;\r\n   color: var(--text-secondary);\r\n   margin: 0;\r\n }\r\n\r\n .messages-container {\r\n   flex: 1;\r\n   padding: 16px;\r\n   overflow-y: auto;\r\n   background-color: var(--bg-color);\r\n   display: flex;\r\n   flex-direction: column;\r\n   gap: 16px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */\r\n }\r\n\r\n /* ØªØ®ØµÙŠØµ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */\r\n .messages-container::-webkit-scrollbar {\r\n   width: 6px;\r\n }\r\n .messages-container::-webkit-scrollbar-thumb {\r\n   background-color: rgba(0, 0, 0, 0.2);\r\n   border-radius: 3px;\r\n }\r\n .messages-container::-webkit-scrollbar-track {\r\n   background-color: transparent;\r\n }\r\n\r\n .chat-footer {\r\n   padding: 16px;\r\n   background-color: var(--footer-bg);\r\n   border-top: 1px solid var(--border-color);\r\n   border-bottom-left-radius: 16px; /* ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ø§Ù†Ø­Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */\r\n   border-bottom-right-radius: 16px; /* ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ø§Ù†Ø­Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */\r\n   backdrop-filter: blur(10px); /* Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ© */\r\n }\r\n\r\n .input-group {\r\n   display: flex;\r\n   align-items: center;\r\n   gap: 8px; /* Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø­Ù‚Ù„ ÙˆØ§Ù„Ø²Ø± */\r\n   margin-bottom: 8px; /* Ù…Ø³Ø§ÙØ© Ø³ÙÙ„ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© */\r\n }\r\n\r\n .chat-input {\r\n   flex: 1;\r\n   padding: 10px 16px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø´Ùˆ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ */\r\n   font-size: 14px;\r\n   background-color: var(--bg-color);\r\n   color: var(--text-color);\r\n   border: 1px solid var(--border-color);\r\n   border-radius: 9999px; /* Ø¬Ø¹Ù„Ù‡ Ø¯Ø§Ø¦Ø±ÙŠÙ‹Ø§ ØªÙ…Ø§Ù…Ù‹Ø§ */\r\n   outline: none;\r\n }\r\n\r\n .chat-input::placeholder {\r\n   color: var(--text-secondary);\r\n }\r\n\r\n .send-button {\r\n   width: 40px; /* Ø­Ø¬Ù… Ø§Ù„Ø²Ø± */\r\n   height: 40px; /* Ø­Ø¬Ù… Ø§Ù„Ø²Ø± */\r\n   border-radius: 50%; /* Ø¯Ø§Ø¦Ø±ÙŠ */\r\n   background-color: var(--primary-color);\r\n   color: white;\r\n   border: none;\r\n   display: flex;\r\n   align-items: center;\r\n   justify-content: center;\r\n   cursor: pointer;\r\n   transition: background-color 0.2s;\r\n   flex-shrink: 0; /* Ù…Ù†Ø¹ Ø§Ù„Ø²Ø± Ù…Ù† Ø§Ù„Ø§Ù†ÙƒÙ…Ø§Ø´ */\r\n }\r\n\r\n .send-button:hover {\r\n   background-color: var(--primary-hover);\r\n }\r\n\r\n .send-button:disabled {\r\n   opacity: 0.5;\r\n   cursor: not-allowed;\r\n }\r\n\r\n .send-button svg {\r\n   width: 18px; /* Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */\r\n   height: 18px; /* Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */\r\n }\r\n\r\n .footer-actions {\r\n   display: flex;\r\n   justify-content: space-between;\r\n   align-items: center;\r\n   /* ØªÙ… Ø­Ø°Ù margin-top */\r\n }\r\n\r\n .footer-button {\r\n   background: none;\r\n   border: none;\r\n   color: var(--text-secondary);\r\n   font-size: 12px;\r\n   cursor: pointer;\r\n   padding: 4px 8px;\r\n }\r\n\r\n .footer-button:hover {\r\n   color: var(--primary-color);\r\n }\r\n\r\n .powered-by {\r\n   font-size: 12px;\r\n   color: var(--text-secondary);\r\n }\r\n\r\n /* Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ù„Ø¹Ø±Ø¶ Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙˆÙ…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) */\r\n .session-info {\r\n   font-size: 10px;\r\n   color: var(--text-secondary);\r\n   text-align: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„Ù†Øµ */\r\n   margin-top: 5px;\r\n   display: none; /* Ø¥Ø®ÙØ§Ø¡Ù‡ Ù…Ø¨Ø¯Ø¦ÙŠØ§Ù‹ */\r\n }\r\n :host([debug=\"true\"]) .session-info {\r\n    display: block; /* Ø¥Ø¸Ù‡Ø§Ø±Ù‡ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØµØ­ÙŠØ­ */\r\n }\r\n`;\r\n\r\nclass ChatWidget extends HTMLElement {\r\n constructor() {\r\n   super();\r\n   this.attachShadow({ mode: 'open' });\r\n   this.isOpen = false;\r\n   this.messages = [];\r\n   this.isTyping = false; // Ù„Ø§ ÙŠØ²Ø§Ù„ Ù…ÙÙŠØ¯Ù‹Ø§ Ù„Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ø§Ù…\r\n   this.sessionId = this._loadSessionId(); // ØªØ­Ù…ÙŠÙ„ Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø©\r\n\r\n   // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù€ SSE\r\n   this.currentBotMessageContainer = null;\r\n   this.responseStartTime = null;\r\n\r\n   // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ ChatService\r\n   // this.chatService = new ChatService(); // --- Ù…Ø­Ø°ÙˆÙ ---\r\n\r\n   this._initialize();\r\n }\r\n\r\n static get observedAttributes() {\r\n   return [\r\n     'project-id', 'theme', 'position', 'welcome-message',\r\n     'api-url', 'direction', 'avatar', 'title', 'subtitle', 'powered-by', 'debug' // Ø¥Ø¶Ø§ÙØ© debug\r\n   ];\r\n }\r\n\r\n _initialize() {\r\n   // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ù…ÙƒÙˆÙ†\r\n   this._render();\r\n   this._setupEventListeners();\r\n\r\n   // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨\r\n   setTimeout(() => {\r\n     // Ù„Ø§ Ù†Ø³ØªØ®Ø¯Ù… _addMessage Ù‡Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„ØªØ±Ø­ÙŠØ¨ Ø¥Ø°Ø§ Ø£Ø±Ø¯Ù†Ø§ ØªØµÙ…ÙŠÙ…Ù‹Ø§ Ù…Ø®ØªÙ„ÙÙ‹Ø§ Ù„Ù‡\r\n     const welcomeMsg = this.getAttribute('welcome-message') || 'Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ';\r\n     this._createBotMessageContainer(welcomeMsg); // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø§ÙˆÙŠØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª Ù…Ø¨Ø§Ø´Ø±Ø©\r\n     // Ù„Ø§ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© messages Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø«Ø§Ø¨ØªØ©\r\n   }, 300);\r\n }\r\n\r\n _render() {\r\n   const styleEl = document.createElement('style');\r\n   styleEl.textContent = styles;\r\n\r\n   const template = document.createElement('template');\r\n   template.innerHTML = `\r\n     <div class=\"chat-container\">\r\n       <div class=\"chat-header\">\r\n         <chat-avatar\r\n           src=\"${this.getAttribute('avatar') || ''}\"\r\n           fallback=\"${(this.getAttribute('title') || 'Bot').charAt(0)}\"\r\n           bg-color=\"var(--primary-color)\">\r\n         </chat-avatar>\r\n         <div class=\"header-info\">\r\n           <h3 class=\"header-title\">${this.getAttribute('title') || 'Chat Assistant'}</h3>\r\n           <p class=\"header-subtitle\">${this.getAttribute('subtitle') || 'Our virtual agent is here to help you'}</p>\r\n         </div>\r\n       </div>\r\n\r\n       <div class=\"messages-container\" id=\"messages\"></div>\r\n\r\n       <div class=\"chat-footer\">\r\n         <div class=\"input-group\">\r\n           <input type=\"text\" class=\"chat-input\" placeholder=\"Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©...\" />\r\n           <button class=\"send-button\" disabled>\r\n             <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n               <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\r\n               <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\r\n             </svg>\r\n           </button>\r\n         </div>\r\n         <div class=\"footer-actions\">\r\n           <button class=\"footer-button new-chat-btn\">Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>\r\n           <span class=\"powered-by\">${this.getAttribute('powered-by') || 'Powered by AI'}</span>\r\n           <button class=\"footer-button close-btn\">Ø¥ØºÙ„Ø§Ù‚</button>\r\n         </div>\r\n          <div class=\"session-info\">\r\n           <span id=\"session-id-display\">Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø©: ${this.sessionId}</span>\r\n           <span id=\"last-response-time\"></span>\r\n         </div>\r\n       </div>\r\n     </div>\r\n\r\n     <chat-button></chat-button>\r\n   `;\r\n\r\n   this.shadowRoot.appendChild(styleEl);\r\n   this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n\r\n   // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ù„Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ù‡Ù…Ø©\r\n   this.chatContainer = this.shadowRoot.querySelector('.chat-container');\r\n   this.messagesContainer = this.shadowRoot.querySelector('#messages');\r\n   this.chatInput = this.shadowRoot.querySelector('.chat-input');\r\n   this.sendButton = this.shadowRoot.querySelector('.send-button');\r\n   this.chatButton = this.shadowRoot.querySelector('chat-button');\r\n\r\n   // Ø¥Ø¶Ø§ÙØ© Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…Ø¨Ø¯Ø¦ÙŠØ© (Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø³Ø§Ø¦Ù„ ØªØ±Ø­ÙŠØ¨ Ø£ÙˆÙ„Ø§Ù‹)\r\n   if (this.messagesContainer.children.length === 0) {\r\n        this._addInitialSuggestions();\r\n   }\r\n }\r\n\r\n _addInitialSuggestions() {\r\n    const suggestionsEl = document.createElement('chat-suggestions');\r\n    // ÙŠÙ…ÙƒÙ† Ø¬Ø¹Ù„ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ Ø¹Ø¨Ø± Ø³Ù…Ø©\r\n    suggestionsEl.suggestions = [\r\n      'Ù…Ø§ Ù‡ÙŠ Ø®Ø¯Ù…Ø§ØªÙƒÙ…ØŸ',\r\n      'ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙƒÙ…ØŸ',\r\n      'Ù‡Ù„ Ù„Ø¯ÙŠÙƒÙ… Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ØŸ'\r\n    ];\r\n    this.messagesContainer.appendChild(suggestionsEl);\r\n    this._scrollToBottom();\r\n }\r\n\r\n _setupEventListeners() {\r\n   this.chatButton.addEventListener('click', () => this.toggleChat());\r\n   this.sendButton.addEventListener('click', () => this._sendMessage());\r\n   this.chatInput.addEventListener('keypress', (e) => {\r\n     if (e.key === 'Enter' && !this.sendButton.disabled) {\r\n       this._sendMessage();\r\n     }\r\n   });\r\n   this.chatInput.addEventListener('input', () => {\r\n     this.sendButton.disabled = !this.chatInput.value.trim();\r\n   });\r\n   this.shadowRoot.querySelector('.new-chat-btn').addEventListener('click', () => this._clearChat());\r\n   this.shadowRoot.querySelector('.close-btn').addEventListener('click', () => this.toggleChat());\r\n   this.shadowRoot.addEventListener('suggestion-clicked', (e) => {\r\n     const { suggestion } = e.detail;\r\n     this.chatInput.value = suggestion;\r\n     this.sendButton.disabled = false; // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø±\r\n     this._sendMessage();\r\n   });\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹) ---\r\n _addUserMessage(content) {\r\n   const messageEl = document.createElement('chat-message');\r\n   messageEl.setAttribute('sender', 'user');\r\n   messageEl.setAttribute('message-id', `user-${Date.now()}`);\r\n   messageEl.textContent = content; // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¨Ø§Ø´Ø±Ø©\r\n\r\n   // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆÙ‚Øª Ù„Ù„Ø±Ø³Ø§Ù„Ø©\r\n   const timeEl = document.createElement('span');\r\n   timeEl.className = 'timestamp';\r\n   timeEl.textContent = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});\r\n   messageEl.shadowRoot.querySelector('.message-content').appendChild(timeEl);\r\n\r\n\r\n   this.messagesContainer.appendChild(messageEl);\r\n   this._scrollToBottom();\r\n\r\n   // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n   const suggestions = this.shadowRoot.querySelector('chat-suggestions');\r\n   if (suggestions) {\r\n     suggestions.style.display = 'none';\r\n   }\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø§ÙˆÙŠØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª (Ù…Ø¹Ø¯Ù„Ø© / Ø¬Ø¯ÙŠØ¯Ø©) ---\r\n _createBotMessageContainer(initialContent = '...') {\r\n     const messageEl = document.createElement('chat-message');\r\n     messageEl.setAttribute('sender', 'bot');\r\n     messageEl.setAttribute('message-id', `bot-${Date.now()}`);\r\n     messageEl.setAttribute('avatar', this.getAttribute('avatar') || '');\r\n     messageEl.textContent = initialContent; // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠ (Ø£Ùˆ placeholder)\r\n\r\n     this.messagesContainer.appendChild(messageEl);\r\n     this._scrollToBottom();\r\n     return messageEl; // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¹Ù†ØµØ± Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹\r\n }\r\n\r\n // --- Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (Ù…Ø¹Ø¯Ù„Ø© Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ±) ---\r\n _sendMessage() {\r\n   const message = this.chatInput.value.trim();\r\n   if (!message) return;\r\n\r\n   // 1. Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©\r\n   this._addUserMessage(message);\r\n\r\n   // 2. Ù…Ø³Ø­ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø²Ø±\r\n   this.chatInput.value = '';\r\n   this.sendButton.disabled = true;\r\n   this.chatInput.disabled = true; // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±Ø¯\r\n\r\n   // 3. Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ø§Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ØªØµÙ…ÙŠÙ… ÙŠØªØ·Ù„Ø¨ Ø°Ù„Ùƒ)\r\n   // this._showTypingIndicator(); // --- ÙŠÙ…ÙƒÙ† Ø¥Ø²Ø§Ù„ØªÙ‡ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø±ØºÙˆØ¨Ù‹Ø§ Ù…Ø¹ Ø§Ù„Ù€ streaming ---\r\n\r\n   // 4. Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ø§ÙˆÙŠØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø±Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ù…\r\n   this.currentBotMessageContainer = this._createBotMessageContainer(); // Ø§Ø³ØªØ®Ø¯Ø§Ù… placeholder Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ '...'\r\n   this.responseStartTime = performance.now(); // Ø¨Ø¯Ø¡ Ù‚ÙŠØ§Ø³ Ø§Ù„ÙˆÙ‚Øª\r\n\r\n   // 5. Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ù€ Streaming Ù…Ø¨Ø§Ø´Ø±Ø©\r\n   this._streamChatResponse(message, this.sessionId)\r\n     .catch(err => {\r\n        console.error('Streaming Error:', err);\r\n        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø®Ø·Ø£ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø£Ø¹Ù„Ù‰ (Ù…Ø«Ù„ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø£ÙˆÙ„ÙŠ)\r\n        this._handleStreamError(err.message || 'ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù….');\r\n     });\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ØªØ¯ÙÙ‚ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© (SSE) ---\r\n async _streamChatResponse(message, sessionId) {\r\n   const url = this.getAttribute('api-url');\r\n   if (!url) {\r\n     throw new Error(\"Chat API URL is not set.\");\r\n   }\r\n   // ØªØ¶Ù…ÙŠÙ† project_id Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù€ API ÙŠØªØ·Ù„Ø¨Ù‡\r\n   const projectId = this.getAttribute('project-id');\r\n   const requestData = {\r\n       message,\r\n       session_id: sessionId,\r\n       debug: this.hasAttribute('debug') // Ø¥Ø±Ø³Ø§Ù„ Ø­Ø§Ù„Ø© Ø§Ù„ØªØµØ­ÙŠØ­\r\n   };\r\n   // Ø¥Ø¶Ø§ÙØ© projectId Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§\r\n   if (projectId) {\r\n     requestData.project_id = projectId;\r\n   }\r\n\r\n\r\n   const response = await fetch(url, {\r\n     method: 'POST',\r\n     headers: {\r\n       'Content-Type': 'application/json',\r\n       'Accept': 'text/event-stream' // Ù…Ù‡Ù… Ù„Ù€ SSE\r\n     },\r\n     body: JSON.stringify(requestData),\r\n   });\r\n\r\n   if (!response.ok) {\r\n     // Ù…Ø­Ø§ÙˆÙ„Ø© Ù‚Ø±Ø§Ø¡Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\r\n     let errorText = `HTTP error ${response.status}`;\r\n     try {\r\n       const errorData = await response.json(); // Ù…Ø­Ø§ÙˆÙ„Ø© Ù‚Ø±Ø§Ø¡Ø© JSON\r\n       errorText = errorData.detail || errorData.message || JSON.stringify(errorData);\r\n     } catch (e) {\r\n       errorText = await response.text(); // Ù‚Ø±Ø§Ø¡Ø© ÙƒÙ†Øµ Ø¥Ø°Ø§ ÙØ´Ù„ JSON\r\n     }\r\n     throw new Error(errorText);\r\n   }\r\n   if (!response.body) {\r\n     throw new Error('No response body received from server.');\r\n   }\r\n\r\n   const reader = response.body.getReader();\r\n   const decoder = new TextDecoder('utf-8');\r\n   let buffer = '';\r\n\r\n   // Ø­Ù„Ù‚Ø© Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù€ stream\r\n   while (true) {\r\n     const { done, value } = await reader.read();\r\n     if (done) {\r\n       console.log(\"Stream finished.\");\r\n       // Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø­Ø¯Ø« 'end'\r\n       if (!this.currentBotMessageContainer.classList.contains('finished')) {\r\n            console.warn(\"Stream ended without an 'end' event. Finalizing message.\");\r\n            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø¤Ø´Ø± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø­ØªÙ‰ Ù„Ùˆ Ù„Ù… ÙŠØµÙ„ Ø­Ø¯Ø« end\r\n            this._finishBotMessage(this.sessionId); // Ø§Ø³ØªØ®Ø¯Ø§Ù… sessionId Ø§Ù„Ø­Ø§Ù„ÙŠ\r\n       }\r\n       break;\r\n     }\r\n\r\n     buffer += decoder.decode(value, { stream: true });\r\n     // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø±ÙŠÙ† Ø§Ù„ÙØ§Ø±ØºÙŠÙ†\r\n     const parts = buffer.split('\\n\\n');\r\n     buffer = parts.pop() || ''; // Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£Ø®ÙŠØ± Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØºÙŠØ± Ù…ÙƒØªÙ…Ù„ØŒ ÙŠØªÙ… Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù‡\r\n\r\n     for (const chunk of parts) {\r\n       this._processSseEvent(chunk);\r\n     }\r\n   }\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø¯Ø« SSE ÙˆØ§Ø­Ø¯ ---\r\n _processSseEvent(eventData) {\r\n   console.log(\"Raw SSE Event:\", eventData);\r\n   const lines = eventData.split('\\n');\r\n   let eventType = 'message'; // Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ\r\n   let payload = '';\r\n\r\n   for (const line of lines) {\r\n     if (line.startsWith('event:')) {\r\n       eventType = line.slice(6).trim();\r\n     } else if (line.startsWith('data:')) {\r\n       // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªÙ…ØªØ¯ Ø¹Ù„Ù‰ Ø¹Ø¯Ø© Ø£Ø³Ø·Ø± data:\r\n       payload += line.slice(5).trim();\r\n     }\r\n     // ÙŠÙ…ÙƒÙ† ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø£Ø³Ø·Ø± Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ø«Ù„ id:, retry: Ø­Ø§Ù„ÙŠÙ‹Ø§\r\n   }\r\n\r\n   if (!payload) return; // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§\r\n\r\n   let data;\r\n   try {\r\n     data = JSON.parse(payload);\r\n     console.log(`Parsed SSE Event (${eventType}):`, data);\r\n   } catch (err) {\r\n     console.error('JSON parse error in SSE data:', err, payload);\r\n     this._handleStreamError(`Ø®Ø·Ø£ ÙÙŠ ØªÙ†Ø³ÙŠÙ‚ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø¯Ù…: ${payload}`);\r\n     return;\r\n   }\r\n\r\n   switch (eventType) {\r\n     case 'chunk':\r\n       if (data.content !== undefined && data.content !== null) {\r\n         this._appendToBotMessage(data.content);\r\n       }\r\n       break;\r\n     case 'end':\r\n       // Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\r\n       this._finishBotMessage(data.session_id); // ØªÙ…Ø±ÙŠØ± Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¥Ù† ÙˆØ¬Ø¯\r\n       break;\r\n     case 'error':\r\n       // Ø§Ù„Ø®Ø§Ø¯Ù… Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø©\r\n       this._handleStreamError(data.error || data.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù….');\r\n       break;\r\n     case 'debug':\r\n        console.log(\"Debug Info:\", data);\r\n        // ÙŠÙ…ÙƒÙ†Ùƒ Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØµØ­ÙŠØ­ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª\r\n        break;\r\n     // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø­Ø§Ù„Ø§Øª Ø£Ø®Ø±Ù‰ Ù…Ø«Ù„ 'tool_call', 'tool_result' Ø¥Ø°Ø§ ÙƒØ§Ù†Øª API ØªØ¯Ø¹Ù…Ù‡Ø§\r\n     default:\r\n       console.warn(`Unhandled SSE event type: ${eventType}`);\r\n       // Ù‚Ø¯ ØªØ±ØºØ¨ ÙÙŠ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ 'message' Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ø§ ÙŠØ±Ø³Ù„ 'event:'\r\n       if(eventType === 'message' && data.content) {\r\n           this._appendToBotMessage(data.content);\r\n       }\r\n   }\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ø¥Ø¶Ø§ÙØ© Ù†Øµ Ø¥Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø­Ø§Ù„ÙŠØ© ---\r\n _appendToBotMessage(text) {\r\n   if (!this.currentBotMessageContainer) {\r\n     console.error(\"Attempted to append text but no currentBotMessageContainer exists.\");\r\n     // Ø±Ø¨Ù…Ø§ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø§ÙˆÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© ÙƒØ­Ù„ Ø¨Ø¯ÙŠÙ„ØŸ\r\n     this.currentBotMessageContainer = this._createBotMessageContainer('');\r\n   }\r\n\r\n   const contentEl = this.currentBotMessageContainer.shadowRoot.querySelector('.message-content');\r\n   if (!contentEl) {\r\n       console.error(\"Could not find .message-content in currentBotMessageContainer.\");\r\n       return;\r\n   }\r\n\r\n   // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù€ placeholder ('...') Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø£ÙˆÙ„ Ø¬Ø²Ø¡\r\n   if (contentEl.textContent === '...') {\r\n     contentEl.textContent = '';\r\n   }\r\n\r\n   contentEl.textContent += text; // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯\r\n   this._scrollToBottom(); // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø£Ø³ÙÙ„ Ù…Ø¹ ÙƒÙ„ Ø¥Ø¶Ø§ÙØ©\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ø¥Ù†Ù‡Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª ---\r\n _finishBotMessage(newSessionId) {\r\n   if (!this.currentBotMessageContainer) {\r\n       console.warn(\"finishBotMessage called but no currentBotMessageContainer\");\r\n       // ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø­ØªÙ‰ Ù„Ùˆ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø³Ø§Ù„Ø©\r\n       this.chatInput.disabled = false;\r\n       this.sendButton.disabled = !this.chatInput.value.trim(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ù†Øµ\r\n       return;\r\n   }\r\n\r\n   this.currentBotMessageContainer.classList.add('finished'); // Ø¹Ù„Ø§Ù…Ø© Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n\r\n   // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ø§Ù… (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø³ØªØ®Ø¯Ù…Ø§Ù‹)\r\n   // this._hideTypingIndicator(); // --- Ø¥Ø²Ø§Ù„Ø© Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¹Ø¯ Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø¹Ø§Ù… Ù…Ø³ØªØ®Ø¯Ù…Ø§Ù‹ ---\r\n\r\n   const end = performance.now();\r\n   const duration = ((end - (this.responseStartTime || end)) / 1000).toFixed(2); // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯Ø©\r\n\r\n   // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø©\r\n   const contentEl = this.currentBotMessageContainer.shadowRoot.querySelector('.message-content');\r\n   if (contentEl) {\r\n     const timeEl = document.createElement('span');\r\n     timeEl.className = 'timestamp';\r\n     timeEl.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n     contentEl.appendChild(timeEl); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø¯Ø§Ø®Ù„ ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©\r\n   }\r\n\r\n   // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø© ÙˆØ²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù…ÙˆØ¬ÙˆØ¯Ø©)\r\n   const responseTimeEl = this.shadowRoot.querySelector('#last-response-time');\r\n   if (responseTimeEl) {\r\n     responseTimeEl.textContent = ` | Ø¢Ø®Ø± Ø²Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø©: ${duration} Ø«`;\r\n   }\r\n\r\n   // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØºÙŠÙŠØ± Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø© ÙˆØªØ­Ø¯ÙŠØ«Ù‡\r\n   if (newSessionId && newSessionId !== this.sessionId) {\r\n     console.log(`Session ID changed from ${this.sessionId} to ${newSessionId}`);\r\n     this.sessionId = newSessionId;\r\n     localStorage.setItem('chatWidgetSessionId', newSessionId); // Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯\r\n     const sessionIdDisplay = this.shadowRoot.querySelector('#session-id-display');\r\n     if (sessionIdDisplay) {\r\n       sessionIdDisplay.textContent = `Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø©: ${newSessionId}`;\r\n     }\r\n   }\r\n\r\n   // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„\r\n   this.chatInput.disabled = false;\r\n   this.sendButton.disabled = !this.chatInput.value.trim(); // ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ\r\n\r\n   // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\r\n   this.currentBotMessageContainer = null;\r\n   this.responseStartTime = null;\r\n   this._scrollToBottom(); // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù…Ø±Ø¦ÙŠØ©\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù€ Stream ---\r\n _handleStreamError(errorMessage) {\r\n   console.error(\"Stream Error Handler:\", errorMessage);\r\n\r\n   // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ø§Ù… (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø³ØªØ®Ø¯Ù…Ø§Ù‹)\r\n   // this._hideTypingIndicator(); // --- Ø¥Ø²Ø§Ù„Ø© Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¹Ø¯ Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø¹Ø§Ù… Ù…Ø³ØªØ®Ø¯Ù…Ø§Ù‹ ---\r\n\r\n   const errorContent = `Ø®Ø·Ø£: ${errorMessage}`;\r\n\r\n   if (this.currentBotMessageContainer && !this.currentBotMessageContainer.classList.contains('finished')) {\r\n     // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø±Ø³Ø§Ù„Ø© Ø¨ÙˆØª Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ØŒ Ø§Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø·Ø£ ÙÙŠÙ‡Ø§\r\n     const contentEl = this.currentBotMessageContainer.shadowRoot.querySelector('.message-content');\r\n     if (contentEl) {\r\n       contentEl.innerHTML = `<div class=\"error-message\" style=\"color: red;\">${errorContent}</div>`;\r\n        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„Ù„Ø®Ø·Ø£ Ø£ÙŠØ¶Ø§Ù‹\r\n        const timeEl = document.createElement('span');\r\n        timeEl.className = 'timestamp';\r\n        timeEl.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n        contentEl.appendChild(timeEl);\r\n     }\r\n     this.currentBotMessageContainer.classList.add('finished', 'error'); // ØªÙ…ÙŠÙŠØ²Ù‡Ø§ ÙƒØ®Ø·Ø£\r\n   } else {\r\n     // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø³Ø§Ù„Ø© Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ØŒ Ø£Ù†Ø´Ø¦ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø¬Ø¯ÙŠØ¯Ø©\r\n     const errorMsgContainer = this._createBotMessageContainer(''); // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø§ÙˆÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©\r\n     const contentEl = errorMsgContainer.shadowRoot.querySelector('.message-content');\r\n     contentEl.innerHTML = `<div class=\"error-message\" style=\"color: red;\">${errorContent}</div>`;\r\n      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„Ù„Ø®Ø·Ø£ Ø£ÙŠØ¶Ø§Ù‹\r\n     const timeEl = document.createElement('span');\r\n     timeEl.className = 'timestamp';\r\n     timeEl.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n     contentEl.appendChild(timeEl);\r\n     errorMsgContainer.classList.add('finished', 'error'); // ØªÙ…ÙŠÙŠØ²Ù‡Ø§ ÙƒØ®Ø·Ø£\r\n   }\r\n\r\n   // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£\r\n   this.chatInput.disabled = false;\r\n   this.sendButton.disabled = !this.chatInput.value.trim();\r\n\r\n   // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø§Ù„Ø©\r\n   this.currentBotMessageContainer = null;\r\n   this.responseStartTime = null;\r\n   this._scrollToBottom();\r\n }\r\n\r\n\r\n // --- Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø¹Ø§Ù… (Ù‚Ø¯ Ù„Ø§ ØªÙƒÙˆÙ† Ø¶Ø±ÙˆØ±ÙŠØ© Ø¨Ù†ÙØ³ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¢Ù†) ---\r\n _showTypingIndicator() {\r\n   // ÙŠÙ…ÙƒÙ† Ø¥Ø¨Ù‚Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ù…Ø¤Ø´Ø±Ù‹Ø§ Ø¹Ø§Ù…Ù‹Ø§ Ù…Ù†ÙØµÙ„Ø§Ù‹ ÙŠØ¸Ù‡Ø± Ø£Ø³ÙÙ„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©\r\n   if (this.shadowRoot.querySelector('#typing-indicator')) return; // Ù„Ø§ ØªØ¶Ù Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§\r\n\r\n   this.isTyping = true;\r\n   const typingEl = document.createElement('typing-indicator');\r\n   typingEl.setAttribute('avatar', this.getAttribute('avatar') || '');\r\n   typingEl.id = 'typing-indicator';\r\n   this.messagesContainer.appendChild(typingEl);\r\n   this._scrollToBottom();\r\n }\r\n\r\n _hideTypingIndicator() {\r\n   this.isTyping = false;\r\n   const typingEl = this.shadowRoot.querySelector('#typing-indicator');\r\n   if (typingEl) {\r\n     typingEl.remove();\r\n   }\r\n }\r\n\r\n // --- Ø¯Ø§Ù„Ø© Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© (ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ· Ù„Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø©) ---\r\n _clearChat() {\r\n   this.messages = []; // Ù…Ø³Ø­ Ù…ØµÙÙˆÙØ© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù„Ø§ ØªØ²Ø§Ù„ Ù…Ø³ØªØ®Ø¯Ù…Ø©)\r\n   while (this.messagesContainer.firstChild) {\r\n     this.messagesContainer.removeChild(this.messagesContainer.firstChild);\r\n   }\r\n\r\n   // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶\r\n   this.sessionId = this._generateSessionId(); // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø±Ù Ø¬Ø¯ÙŠØ¯\r\n   localStorage.setItem('chatWidgetSessionId', this.sessionId); // Ø­ÙØ¸Ù‡\r\n   const sessionIdDisplay = this.shadowRoot.querySelector('#session-id-display');\r\n    if (sessionIdDisplay) {\r\n      sessionIdDisplay.textContent = `Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø©: ${this.sessionId}`;\r\n    }\r\n    const responseTimeEl = this.shadowRoot.querySelector('#last-response-time');\r\n    if (responseTimeEl) {\r\n      responseTimeEl.textContent = ''; // Ù…Ø³Ø­ Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\r\n    }\r\n\r\n\r\n   // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ùˆ/Ø£Ùˆ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª\r\n   setTimeout(() => {\r\n     const welcomeMsg = this.getAttribute('welcome-message') || 'Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ Ù…Ø¬Ø¯Ø¯Ù‹Ø§! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©ØŸ';\r\n     this._createBotMessageContainer(welcomeMsg);\r\n     this._addInitialSuggestions(); // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª\r\n   }, 100); // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ù…Ø³Ø­ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©\r\n\r\n   // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„\r\n   this.chatInput.disabled = false;\r\n   this.sendButton.disabled = true; // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ø£Ù† Ø§Ù„Ø­Ù‚Ù„ ÙØ§Ø±Øº\r\n }\r\n\r\n // --- ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø§ÙØ°Ø© (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ) ---\r\n toggleChat() {\r\n   console.log('ğŸ”˜ toggleChat fired! isOpen=', this.isOpen);\r\n   this.isOpen = !this.isOpen;\r\n   if (this.isOpen) {\r\n     this.chatContainer.classList.add('open');\r\n     localStorage.setItem('chatWidgetOpen', 'true');\r\n     // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­\r\n     setTimeout(() => this.chatInput.focus(), 300);\r\n   } else {\r\n     this.chatContainer.classList.remove('open');\r\n     localStorage.setItem('chatWidgetOpen', 'false');\r\n   }\r\n }\r\n\r\n // --- Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„ (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ) ---\r\n _scrollToBottom() {\r\n   // Ø§Ø³ØªØ®Ø¯Ø§Ù… requestAnimationFrame Ù„ØªÙ…Ø±ÙŠØ± Ø£ÙƒØ«Ø± Ø³Ù„Ø§Ø³Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«\r\n   requestAnimationFrame(() => {\r\n        // ØªØ£Ø¬ÙŠÙ„ Ø¨Ø³ÙŠØ· Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù€ rendering\r\n       setTimeout(() => {\r\n           this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;\r\n       }, 50);\r\n   });\r\n }\r\n\r\n // --- Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø© ---\r\n _loadSessionId() {\r\n   let id = localStorage.getItem('chatWidgetSessionId');\r\n   if (!id) {\r\n     id = this._generateSessionId();\r\n     localStorage.setItem('chatWidgetSessionId', id);\r\n   }\r\n   console.log(\"Loaded Session ID:\", id);\r\n   return id;\r\n }\r\n\r\n _generateSessionId() {\r\n   const newId = 'session_' + Math.random().toString(36).substring(2, 15) + Date.now().toString(36);\r\n   console.log(\"Generated New Session ID:\", newId);\r\n   return newId;\r\n }\r\n\r\n // --- Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ù…ÙƒÙˆÙ† (ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ·) ---\r\n connectedCallback() {\r\n   const savedState = localStorage.getItem('chatWidgetOpen');\r\n   if (savedState === 'true') {\r\n     // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù‚Ø¨Ù„ Ø§Ù„ÙØªØ­ Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨ØªÙ‡ÙŠØ¦Ø© ÙƒÙ„ Ø´ÙŠØ¡\r\n     setTimeout(() => this.toggleChat(), 100);\r\n   }\r\n   // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„\r\n   this._applyDirectionAttribute();\r\n   this._applyDebugAttribute();\r\n }\r\n\r\n attributeChangedCallback(name, oldValue, newValue) {\r\n   if (oldValue === newValue) return; // Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¦Ù‹Ø§ Ø¥Ø°Ø§ Ù„Ù… ØªØªØºÙŠØ± Ø§Ù„Ù‚ÙŠÙ…Ø©\r\n\r\n   switch (name) {\r\n     case 'direction':\r\n       this._applyDirectionAttribute();\r\n       break;\r\n    case 'theme':\r\n        // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªØ­Ø¯ÙŠØ«Ø§Øª Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø± Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§\r\n        break;\r\n    case 'title':\r\n        const titleEl = this.shadowRoot.querySelector('.header-title');\r\n        if(titleEl) titleEl.textContent = newValue || 'Chat Assistant';\r\n        break;\r\n    case 'subtitle':\r\n        const subtitleEl = this.shadowRoot.querySelector('.header-subtitle');\r\n        if(subtitleEl) subtitleEl.textContent = newValue || 'Our virtual agent is here to help you';\r\n        break;\r\n    case 'powered-by':\r\n        const poweredByEl = this.shadowRoot.querySelector('.powered-by');\r\n        if(poweredByEl) poweredByEl.textContent = newValue || 'Powered by AI';\r\n        break;\r\n    case 'avatar':\r\n        const avatarEl = this.shadowRoot.querySelector('chat-avatar');\r\n        if(avatarEl) avatarEl.setAttribute('src', newValue || '');\r\n        break;\r\n    case 'debug':\r\n        this._applyDebugAttribute();\r\n        break;\r\n     // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø­Ø§Ù„Ø§Øª Ø£Ø®Ø±Ù‰ Ù„Ù„Ø³Ù…Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©\r\n   }\r\n }\r\n\r\n // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø³Ù…Ø© direction\r\n _applyDirectionAttribute() {\r\n    const dir = this.getAttribute('direction') || 'rtl'; // Ø§ÙØªØ±Ø§Ø¶ÙŠ rtl\r\n    // Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„ØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ Ø¹Ù„Ù‰ this.style.direction Ù…Ø¨Ø§Ø´Ø±Ø©\r\n    // Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø¯Ø§Ø®Ù„ :host([direction=\"rtl\"]) ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§\r\n    // Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ù„ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø§ØµØ± Ø£Ø®Ø±Ù‰ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† ØªØ³ØªØ¬ÙŠØ¨ Ù„Ù„Ù€ CSS direction\r\n    const input = this.shadowRoot.querySelector('.chat-input');\r\n    if (input) input.setAttribute('dir', dir);\r\n }\r\n  // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø³Ù…Ø© debug\r\n _applyDebugAttribute() {\r\n    const sessionInfo = this.shadowRoot.querySelector('.session-info');\r\n    if (!sessionInfo) return;\r\n    if (this.hasAttribute('debug')) {\r\n        sessionInfo.style.display = 'block';\r\n    } else {\r\n        sessionInfo.style.display = 'none';\r\n    }\r\n }\r\n\r\n}\r\n\r\n// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†\r\ncustomElements.define('chat-widget', ChatWidget);\r\n\r\nexport default ChatWidget;","// Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…ÙƒØªØ¨Ø©\r\nimport './chat-widget.js';\r\n\r\n// Ù†Ø§ÙØ°Ø© Ø¹Ø§Ù…Ø© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒØªØ¨Ø©\r\nwindow.ChatWidget = {\r\n  init: (options = {}) => {\r\n    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    const defaultOptions = {\r\n      projectId: '',\r\n      theme: 'light',\r\n      position: 'bottom-right',\r\n      welcomeMessage: 'Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ',\r\n      apiUrl: 'https://exadoo-rxr9.onrender.com/bot/chat/stream',\r\n      direction: 'rtl',\r\n      avatar: '',\r\n      title: 'Exaado Assistant',\r\n      subtitle: 'Our virtual agent is here to help you',\r\n      poweredBy: 'Powered by EXAADO:exaado.com'\r\n    };\r\n\r\n    // Ø¯Ù…Ø¬ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù…Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    const config = { ...defaultOptions, ...options };\r\n\r\n    // Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙƒÙˆÙ† Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©\r\n    const chatWidget = document.createElement('chat-widget');\r\n\r\n    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ù…Ø§Øª\r\n    Object.entries(config).forEach(([key, value]) => {\r\n    if (value == null || value === '') return;  // Ù†ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ø³Ù…Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ©\r\n    // Ø­ÙˆÙ‘Ù„ camelCase Ø¥Ù„Ù‰ kebab-case\r\n    const attr = key.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n    chatWidget.setAttribute(attr, value);\r\n  });\r\n\r\n    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙƒÙˆÙ† Ù„Ù„ØµÙØ­Ø©\r\n    document.body.appendChild(chatWidget);\r\n\r\n    // Ø¥Ø±Ø¬Ø§Ø¹ Ù…Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n    return chatWidget;\r\n  }\r\n};\r\n\r\n// Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø«ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø®ÙŠØ§Ø±Ø§Øª ÙÙŠ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØªØµÙØ­\r\nif (window.ChatWidgetOptions) {\r\n  window.ChatWidget.init(window.ChatWidgetOptions);\r\n}"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,EAAE,MAAM,KAAK,KAAK,GAAG,EAAE,GAAG,gBAAgB,CAAC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE,MAAM,KAAK,KAAK,GAAG,+BAA+B,GAAG,SAAS,CAAC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;EACN;AACA;EACA;EACA,IAAI,MAAM,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;AAClE;EACA;EACA,IAAI,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EACzD;EACA,IAAI,cAAc,CAAC,SAAS,GAAG,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,CAAC;EAC3D,IAAI,cAAc,CAAC,YAAY,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;AAC9D;EACA;EACA,IAAI,IAAI,UAAU,GAAG,EAAE,CAAC;EACxB,IAAI,IAAI,MAAM,KAAK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AS;EACT,OAAO,MAAM,IAAI,IAAI,KAAK,UAAU,EAAE;EACtC,QAAQ,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC;EAChD,OAAO,MAAM,IAAI,IAAI,KAAK,MAAM,EAAE;EAClC,QAAQ,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC;EACtC,QAAQ,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC;EACvC,QAAQ,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;EAC1D,OAAO;EACP,KAAK;EACL,GAAG;EACH,CAAC;AACD;EACA;EACA,cAAc,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,CAAC;;ECrGhD;EACA;AACA;EACA;EACA,MAAM,MAAM,GAAG,CAAC;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;AACF;EACA,MAAM,UAAU,SAAS,WAAW,CAAC;EACrC,CAAC,WAAW,GAAG;EACf,GAAG,KAAK,EAAE,CAAC;EACX,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;EACvC,GAAG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;EACvB,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACtB,GAAG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;EACzB,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;AAC1C;EACA;EACA,GAAG,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;EAC1C,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;AACjC;EACA;EACA;AACA;EACA,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;EACtB,EAAE;AACF;EACA,CAAC,WAAW,kBAAkB,GAAG;EACjC,GAAG,OAAO;EACV,KAAK,YAAY,EAAE,OAAO,EAAE,UAAU,EAAE,iBAAiB;EACzD,KAAK,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO;EACjF,IAAI,CAAC;EACL,EAAE;AACF;EACA,CAAC,WAAW,GAAG;EACf;EACA,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;EAClB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;AAC/B;EACA;EACA,GAAG,UAAU,CAAC,MAAM;EACpB;EACA,KAAK,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,sCAAsC,CAAC;EACvG,KAAK,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;EACjD;EACA,IAAI,EAAE,GAAG,CAAC,CAAC;EACX,EAAE;AACF;EACA,CAAC,OAAO,GAAG;EACX,GAAG,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EACnD,GAAG,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC;AAChC;EACA,GAAG,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;EACvD,GAAG,QAAQ,CAAC,SAAS,GAAG,CAAC;AACzB;AACA;AACA;AACA,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACpD,qBAAqB,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACvE;AACA;AACA;AACA,oCAAoC,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,gBAAgB,CAAC;AACrF,sCAAsC,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,uCAAuC,CAAC;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,EAAE,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,eAAe,CAAC;AACzF;AACA;AACA;AACA,sDAAsD,EAAE,IAAI,CAAC,SAAS,CAAC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,CAAC;AACL;EACA,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;EACxC,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;AACjE;EACA;EACA,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;EACzE,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;EACvE,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EACjE,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;EACnE,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;AAClE;EACA;EACA,GAAG,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;EACrD,QAAQ,IAAI,CAAC,sBAAsB,EAAE,CAAC;EACtC,IAAI;EACJ,EAAE;AACF;EACA,CAAC,sBAAsB,GAAG;EAC1B,IAAI,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EACrE;EACA,IAAI,aAAa,CAAC,WAAW,GAAG;EAChC,MAAM,gBAAgB;EACtB,MAAM,0BAA0B;EAChC,MAAM,sBAAsB;EAC5B,KAAK,CAAC;EACN,IAAI,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;EACtD,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;EAC3B,EAAE;AACF;EACA,CAAC,oBAAoB,GAAG;EACxB,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;EACtE,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;EACxE,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK;EACtD,KAAK,IAAI,CAAC,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;EACzD,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;EAC3B,MAAM;EACN,IAAI,CAAC,CAAC;EACN,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAClD,KAAK,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;EAC7D,IAAI,CAAC,CAAC;EACN,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;EACrG,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;EAClG,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,CAAC,CAAC,KAAK;EACjE,KAAK,MAAM,EAAE,UAAU,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;EACrC,KAAK,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC;EACvC,KAAK,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC;EACtC,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC;EACzB,IAAI,CAAC,CAAC;EACN,EAAE;AACF;EACA;EACA,CAAC,eAAe,CAAC,OAAO,EAAE;EAC1B,GAAG,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;EAC5D,GAAG,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;EAC5C,GAAG,SAAS,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EAC9D,GAAG,SAAS,CAAC,WAAW,GAAG,OAAO,CAAC;AACnC;EACA;EACA,GAAG,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;EACjD,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC;EAClC,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;EAC9F,GAAG,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC9E;AACA;EACA,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;EACjD,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;AAC1B;EACA;EACA,GAAG,MAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EACzE,GAAG,IAAI,WAAW,EAAE;EACpB,KAAK,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EACxC,IAAI;EACJ,EAAE;AACF;EACA;EACA,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,EAAE;EACpD,KAAK,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;EAC9D,KAAK,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;EAC7C,KAAK,SAAS,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EAC/D,KAAK,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;EACzE,KAAK,SAAS,CAAC,WAAW,GAAG,cAAc,CAAC;AAC5C;EACA,KAAK,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;EACnD,KAAK,IAAI,CAAC,eAAe,EAAE,CAAC;EAC5B,KAAK,OAAO,SAAS,CAAC;EACtB,EAAE;AACF;EACA;EACA,CAAC,YAAY,GAAG;EAChB,GAAG,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;EAC/C,GAAG,IAAI,CAAC,OAAO,EAAE,OAAO;AACxB;EACA;EACA,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;AACjC;EACA;EACA,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;EAC7B,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;EACnC,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;AAClC;EACA;EACA;AACA;EACA;EACA,GAAG,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;EACvE,GAAG,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;AAC9C;EACA;EACA,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;EACpD,MAAM,KAAK,CAAC,GAAG,IAAI;EACnB,QAAQ,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;EAC/C;EACA,QAAQ,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,OAAO,IAAI,sBAAsB,CAAC,CAAC;EACvE,MAAM,CAAC,CAAC;EACR,EAAE;AACF;EACA;EACA,CAAC,MAAM,mBAAmB,CAAC,OAAO,EAAE,SAAS,EAAE;EAC/C,GAAG,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;EAC5C,GAAG,IAAI,CAAC,GAAG,EAAE;EACb,KAAK,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;EACjD,IAAI;EACJ;EACA,GAAG,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;EACrD,GAAG,MAAM,WAAW,GAAG;EACvB,OAAO,OAAO;EACd,OAAO,UAAU,EAAE,SAAS;EAC5B,OAAO,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;EACxC,IAAI,CAAC;EACL;EACA,GAAG,IAAI,SAAS,EAAE;EAClB,KAAK,WAAW,CAAC,UAAU,GAAG,SAAS,CAAC;EACxC,IAAI;AACJ;AACA;EACA,GAAG,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;EACrC,KAAK,MAAM,EAAE,MAAM;EACnB,KAAK,OAAO,EAAE;EACd,OAAO,cAAc,EAAE,kBAAkB;EACzC,OAAO,QAAQ,EAAE,mBAAmB;EACpC,MAAM;EACN,KAAK,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;EACtC,IAAI,CAAC,CAAC;AACN;EACA,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;EACrB;EACA,KAAK,IAAI,SAAS,GAAG,CAAC,WAAW,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;EACrD,KAAK,IAAI;EACT,OAAO,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;EAC/C,OAAO,SAAS,GAAG,SAAS,CAAC,MAAM,IAAI,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;EACtF,MAAM,CAAC,OAAO,CAAC,EAAE;EACjB,OAAO,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;EACzC,MAAM;EACN,KAAK,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC;EAChC,IAAI;EACJ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;EACvB,KAAK,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;EAC/D,IAAI;AACJ;EACA,GAAG,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;EAC5C,GAAG,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;EAC5C,GAAG,IAAI,MAAM,GAAG,EAAE,CAAC;AACnB;EACA;EACA,GAAG,OAAO,IAAI,EAAE;EAChB,KAAK,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;EACjD,KAAK,IAAI,IAAI,EAAE;EACf,OAAO,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;EACvC;EACA,OAAO,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;EAC5E,YAAY,OAAO,CAAC,IAAI,CAAC,0DAA0D,CAAC,CAAC;EACrF;EACA,YAAY,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACnD,QAAQ;EACR,OAAO,MAAM;EACb,MAAM;AACN;EACA,KAAK,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;EACvD;EACA,KAAK,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;EACxC,KAAK,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;AAChC;EACA,KAAK,KAAK,MAAM,KAAK,IAAI,KAAK,EAAE;EAChC,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;EACpC,MAAM;EACN,IAAI;EACJ,EAAE;AACF;EACA;EACA,CAAC,gBAAgB,CAAC,SAAS,EAAE;EAC7B,GAAG,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;EAC5C,GAAG,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;EACvC,GAAG,IAAI,SAAS,GAAG,SAAS,CAAC;EAC7B,GAAG,IAAI,OAAO,GAAG,EAAE,CAAC;AACpB;EACA,GAAG,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;EAC7B,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;EACpC,OAAO,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;EACxC,MAAM,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;EAC1C;EACA,OAAO,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;EACvC,MAAM;EACN;EACA,IAAI;AACJ;EACA,GAAG,IAAI,CAAC,OAAO,EAAE,OAAO;AACxB;EACA,GAAG,IAAI,IAAI,CAAC;EACZ,GAAG,IAAI;EACP,KAAK,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;EAChC,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;EAC3D,IAAI,CAAC,OAAO,GAAG,EAAE;EACjB,KAAK,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;EAClE,KAAK,IAAI,CAAC,kBAAkB,CAAC,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;EACvE,KAAK,OAAO;EACZ,IAAI;AACJ;EACA,GAAG,QAAQ,SAAS;EACpB,KAAK,KAAK,OAAO;EACjB,OAAO,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;EAChE,SAAS,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EAChD,QAAQ;EACR,OAAO,MAAM;EACb,KAAK,KAAK,KAAK;EACf;EACA,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EAC/C,OAAO,MAAM;EACb,KAAK,KAAK,OAAO;EACjB;EACA,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,IAAI,8BAA8B,CAAC,CAAC;EAC7F,OAAO,MAAM;EACb,KAAK,KAAK,OAAO;EACjB,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;EACzC;EACA,QAAQ,MAAM;EACd;EACA,KAAK;EACL,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,0BAA0B,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;EAC9D;EACA,OAAO,GAAG,SAAS,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,EAAE;EACnD,WAAW,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EAClD,QAAQ;EACR,IAAI;EACJ,EAAE;AACF;EACA;EACA,CAAC,mBAAmB,CAAC,IAAI,EAAE;EAC3B,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;EACzC,KAAK,OAAO,CAAC,KAAK,CAAC,oEAAoE,CAAC,CAAC;EACzF;EACA,KAAK,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC,CAAC;EAC3E,IAAI;AACJ;EACA,GAAG,MAAM,SAAS,GAAG,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EAClG,GAAG,IAAI,CAAC,SAAS,EAAE;EACnB,OAAO,OAAO,CAAC,KAAK,CAAC,gEAAgE,CAAC,CAAC;EACvF,OAAO,OAAO;EACd,IAAI;AACJ;EACA;EACA,GAAG,IAAI,SAAS,CAAC,WAAW,KAAK,KAAK,EAAE;EACxC,KAAK,SAAS,CAAC,WAAW,GAAG,EAAE,CAAC;EAChC,IAAI;AACJ;EACA,GAAG,SAAS,CAAC,WAAW,IAAI,IAAI,CAAC;EACjC,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;EAC1B,EAAE;AACF;EACA;EACA,CAAC,iBAAiB,CAAC,YAAY,EAAE;EACjC,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;EACzC,OAAO,OAAO,CAAC,IAAI,CAAC,2DAA2D,CAAC,CAAC;EACjF;EACA,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;EACvC,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;EAC/D,OAAO,OAAO;EACd,IAAI;AACJ;EACA,GAAG,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC7D;EACA;EACA;AACA;EACA,GAAG,MAAM,GAAG,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;EACjC,GAAG,MAAM,QAAQ,GAAG,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,iBAAiB,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AAChF;EACA;EACA,GAAG,MAAM,SAAS,GAAG,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EAClG,GAAG,IAAI,SAAS,EAAE;EAClB,KAAK,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;EACnD,KAAK,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC;EACpC,KAAK,MAAM,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;EACpG,KAAK,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACnC,IAAI;AACJ;EACA;EACA,GAAG,MAAM,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;EAC/E,GAAG,IAAI,cAAc,EAAE;EACvB,KAAK,cAAc,CAAC,WAAW,GAAG,CAAC,oBAAoB,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;EACtE,IAAI;AACJ;EACA;EACA,GAAG,IAAI,YAAY,IAAI,YAAY,KAAK,IAAI,CAAC,SAAS,EAAE;EACxD,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;EACjF,KAAK,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC;EACnC,KAAK,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,YAAY,CAAC,CAAC;EAC/D,KAAK,MAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;EACnF,KAAK,IAAI,gBAAgB,EAAE;EAC3B,OAAO,gBAAgB,CAAC,WAAW,GAAG,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,CAAC;EACrE,MAAM;EACN,IAAI;AACJ;EACA;EACA,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;EACnC,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;AAC3D;EACA;EACA,GAAG,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;EAC1C,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;EACjC,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;EAC1B,EAAE;AACF;EACA;EACA,CAAC,kBAAkB,CAAC,YAAY,EAAE;EAClC,GAAG,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,YAAY,CAAC,CAAC;AACxD;EACA;EACA;AACA;EACA,GAAG,MAAM,YAAY,GAAG,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC,CAAC;AAC/C;EACA,GAAG,IAAI,IAAI,CAAC,0BAA0B,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;EAC3G;EACA,KAAK,MAAM,SAAS,GAAG,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EACpG,KAAK,IAAI,SAAS,EAAE;EACpB,OAAO,SAAS,CAAC,SAAS,GAAG,CAAC,+CAA+C,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;EACpG;EACA,QAAQ,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;EACtD,QAAQ,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC;EACvC,QAAQ,MAAM,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;EACvG,QAAQ,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACtC,MAAM;EACN,KAAK,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;EACxE,IAAI,MAAM;EACV;EACA,KAAK,MAAM,iBAAiB,GAAG,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC,CAAC;EACnE,KAAK,MAAM,SAAS,GAAG,iBAAiB,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EACtF,KAAK,SAAS,CAAC,SAAS,GAAG,CAAC,+CAA+C,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;EAClG;EACA,KAAK,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;EACnD,KAAK,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC;EACpC,KAAK,MAAM,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;EACpG,KAAK,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACnC,KAAK,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;EAC1D,IAAI;AACJ;EACA;EACA,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;EACnC,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;AAC3D;EACA;EACA,GAAG,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;EAC1C,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;EACjC,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;EAC1B,EAAE;AACF;AACA;EACA;EACA,CAAC,oBAAoB,GAAG;EACxB;EACA,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,mBAAmB,CAAC,EAAE,OAAO;AAClE;EACA,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;EACxB,GAAG,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EAC/D,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;EACtE,GAAG,QAAQ,CAAC,EAAE,GAAG,kBAAkB,CAAC;EACpC,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;EAChD,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;EAC1B,EAAE;AACF;EACA,CAAC,oBAAoB,GAAG;EACxB,GAAG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;EACzB,GAAG,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;EACvE,GAAG,IAAI,QAAQ,EAAE;EACjB,KAAK,QAAQ,CAAC,MAAM,EAAE,CAAC;EACvB,IAAI;EACJ,EAAE;AACF;EACA;EACA,CAAC,UAAU,GAAG;EACd,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACtB,GAAG,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE;EAC7C,KAAK,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;EAC3E,IAAI;AACJ;EACA;EACA,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAC9C,GAAG,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;EAC/D,GAAG,MAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;EACjF,IAAI,IAAI,gBAAgB,EAAE;EAC1B,MAAM,gBAAgB,CAAC,WAAW,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;EACtE,KAAK;EACL,IAAI,MAAM,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;EAChF,IAAI,IAAI,cAAc,EAAE;EACxB,MAAM,cAAc,CAAC,WAAW,GAAG,EAAE,CAAC;EACtC,KAAK;AACL;AACA;EACA;EACA,GAAG,UAAU,CAAC,MAAM;EACpB,KAAK,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,wCAAwC,CAAC;EACzG,KAAK,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;EACjD,KAAK,IAAI,CAAC,sBAAsB,EAAE,CAAC;EACnC,IAAI,EAAE,GAAG,CAAC,CAAC;AACX;EACA;EACA,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;EACnC,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;EACnC,EAAE;AACF;EACA;EACA,CAAC,UAAU,GAAG;EACd,GAAG,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;EAC5D,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;EAC9B,GAAG,IAAI,IAAI,CAAC,MAAM,EAAE;EACpB,KAAK,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;EAC9C,KAAK,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;EACpD;EACA,KAAK,UAAU,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE,GAAG,CAAC,CAAC;EACnD,IAAI,MAAM;EACV,KAAK,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;EACjD,KAAK,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;EACrD,IAAI;EACJ,EAAE;AACF;EACA;EACA,CAAC,eAAe,GAAG;EACnB;EACA,GAAG,qBAAqB,CAAC,MAAM;EAC/B;EACA,OAAO,UAAU,CAAC,MAAM;EACxB,WAAW,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC;EAClF,QAAQ,EAAE,EAAE,CAAC,CAAC;EACd,IAAI,CAAC,CAAC;EACN,EAAE;AACF;EACA;EACA,CAAC,cAAc,GAAG;EAClB,GAAG,IAAI,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;EACxD,GAAG,IAAI,CAAC,EAAE,EAAE;EACZ,KAAK,EAAE,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;EACpC,KAAK,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;EACrD,IAAI;EACJ,GAAG,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;EACzC,GAAG,OAAO,EAAE,CAAC;EACb,EAAE;AACF;EACA,CAAC,kBAAkB,GAAG;EACtB,GAAG,MAAM,KAAK,GAAG,UAAU,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;EACpG,GAAG,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;EACnD,GAAG,OAAO,KAAK,CAAC;EAChB,EAAE;AACF;EACA;EACA,CAAC,iBAAiB,GAAG;EACrB,GAAG,MAAM,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;EAC7D,GAAG,IAAI,UAAU,KAAK,MAAM,EAAE;EAC9B;EACA,KAAK,UAAU,CAAC,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,GAAG,CAAC,CAAC;EAC9C,IAAI;EACJ;EACA,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;EACnC,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;EAC/B,EAAE;AACF;EACA,CAAC,wBAAwB,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;EACpD,GAAG,IAAI,QAAQ,KAAK,QAAQ,EAAE,OAAO;AACrC;EACA,GAAG,QAAQ,IAAI;EACf,KAAK,KAAK,WAAW;EACrB,OAAO,IAAI,CAAC,wBAAwB,EAAE,CAAC;EACvC,OAAO,MAAM;EACb,IAAI,KAAK,OAAO;EAChB;EACA,QAAQ,MAAM;EACd,IAAI,KAAK,OAAO;EAChB,QAAQ,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;EACvE,QAAQ,GAAG,OAAO,EAAE,OAAO,CAAC,WAAW,GAAG,QAAQ,IAAI,gBAAgB,CAAC;EACvE,QAAQ,MAAM;EACd,IAAI,KAAK,UAAU;EACnB,QAAQ,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EAC7E,QAAQ,GAAG,UAAU,EAAE,UAAU,CAAC,WAAW,GAAG,QAAQ,IAAI,uCAAuC,CAAC;EACpG,QAAQ,MAAM;EACd,IAAI,KAAK,YAAY;EACrB,QAAQ,MAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EACzE,QAAQ,GAAG,WAAW,EAAE,WAAW,CAAC,WAAW,GAAG,QAAQ,IAAI,eAAe,CAAC;EAC9E,QAAQ,MAAM;EACd,IAAI,KAAK,QAAQ;EACjB,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EACtE,QAAQ,GAAG,QAAQ,EAAE,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,IAAI,EAAE,CAAC,CAAC;EAClE,QAAQ,MAAM;EACd,IAAI,KAAK,OAAO;EAChB,QAAQ,IAAI,CAAC,oBAAoB,EAAE,CAAC;EACpC,QAAQ,MAAM;EACd;EACA,IAAI;EACJ,EAAE;AACF;EACA;EACA,CAAC,wBAAwB,GAAG;EAC5B,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC;EACxD;EACA;EACA;EACA,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EAC/D,IAAI,IAAI,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;EAC9C,EAAE;EACF;EACA,CAAC,oBAAoB,GAAG;EACxB,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;EACvE,IAAI,IAAI,CAAC,WAAW,EAAE,OAAO;EAC7B,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;EACpC,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;EAC5C,KAAK,MAAM;EACX,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAC3C,KAAK;EACL,EAAE;AACF;EACA,CAAC;AACD;EACA;EACA,cAAc,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,CAAC;;EC71BhD;AAEA;EACA;EACA,MAAM,CAAC,UAAU,GAAG;EACpB,EAAE,IAAI,EAAE,CAAC,OAAO,GAAG,EAAE,KAAK;EAC1B;EACA,IAAI,MAAM,cAAc,GAAG;EAC3B,MAAM,SAAS,EAAE,EAAE;EACnB,MAAM,KAAK,EAAE,OAAO;EACpB,MAAM,QAAQ,EAAE,cAAc;EAC9B,MAAM,cAAc,EAAE,sCAAsC;EAC5D,MAAM,MAAM,EAAE,kDAAkD;EAChE,MAAM,SAAS,EAAE,KAAK;EACtB,MAAM,MAAM,EAAE,EAAE;EAChB,MAAM,KAAK,EAAE,kBAAkB;EAC/B,MAAM,QAAQ,EAAE,uCAAuC;EACvD,MAAM,SAAS,EAAE,8BAA8B;EAC/C,KAAK,CAAC;AACN;EACA;EACA,IAAI,MAAM,MAAM,GAAG,EAAE,GAAG,cAAc,EAAE,GAAG,OAAO,EAAE,CAAC;AACrD;EACA;EACA,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;AAC7D;EACA;EACA,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK;EACrD,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,EAAE,EAAE,OAAO;EAC9C;EACA,IAAI,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;EAC9D,IAAI,UAAU,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACzC,GAAG,CAAC,CAAC;AACL;EACA;EACA,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC1C;EACA;EACA,IAAI,OAAO,UAAU,CAAC;EACtB,GAAG;EACH,CAAC,CAAC;AACF;EACA;EACA,IAAI,MAAM,CAAC,iBAAiB,EAAE;EAC9B,EAAE,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;EACnD;;;;;;"}